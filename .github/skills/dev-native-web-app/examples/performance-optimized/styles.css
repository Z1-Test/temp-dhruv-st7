/* Non-critical styles - loaded asynchronously */

:root {
    --color-bg: #ffffff;
    --color-text: #212529;
    --color-primary: #1a73e8;
    --color-muted: #6c757d;
    --color-surface: #f8f9fa;
    --color-border: #dee2e6;
}

@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #121212;
        --color-text: #e0e0e0;
        --color-surface: #1e1e1e;
        --color-border: #333;
        --color-muted: #9e9e9e;
    }
}

/* Navigation */
nav {
    display: flex;
    gap: 1rem;
}

nav a {
    color: var(--color-text);
    text-decoration: none;
    padding: 0.5rem 0.75rem;
    border-radius: 0.25rem;
    transition: background-color 0.15s;
}

nav a:hover {
    background-color: var(--color-surface);
}

/* Main content */
main {
    max-width: 60rem;
    margin-inline: auto;
    padding: 2rem;
}

h1 {
    font-size: 2rem;
    margin-block-end: 0.5rem;
}

main>p {
    color: var(--color-muted);
    margin-block-end: 2rem;
}

section {
    margin-block-end: 2.5rem;
}

h2 {
    font-size: 1.25rem;
    margin-block-end: 0.75rem;
    color: var(--color-primary);
}

ul {
    padding-inline-start: 1.5rem;
}

li {
    margin-block-end: 0.5rem;
}

code {
    background-color: var(--color-surface);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-family: 'Menlo', 'Monaco', monospace;
    font-size: 0.875em;
}

/* Gallery - Uses content-visibility for performance */
.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-block-start: 1rem;
}

.gallery img {
    width: 100%;
    height: auto;
    border-radius: 0.5rem;
    background-color: var(--color-surface);
}

/* Use content-visibility for off-screen content */
section:nth-child(n+4) {
    content-visibility: auto;
    contain-intrinsic-size: 0 200px;
}

/* Focus styles */
a:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Font loading strategy to prevent CLS */
@font-face {
    font-family: 'System Fallback';
    src: local('system-ui'), local('-apple-system'), local('BlinkMacSystemFont');
    font-display: optional;
    /* Prevents layout shift from font swap */
}